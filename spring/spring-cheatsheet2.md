# Web
Spring MVC is Spring 's web framework. @Controller class handle HTTP requests. URL info available via @RequestParam, @PathVariable . Data returned via Model. output html generated by Views. ViewResolvers define where views can be found.


## Request processing lifecycle
request URL is handled by DispatcherServlet which dispatch the request to a controller, the controller returns a logic view name back to DispatcherServlet, dispatcherServlet consults viewResolver for the right view. Finally, dispatcherServlet render model data on the view.
## artifacts (dispatcherservlet, controllers, views)
- DispatcherServlet

is definded by WebApplicationInitializer aka "web.xml" in xml config
```java
public class MyWebInitializer extends AbstractAnnotationConfigDispatcherServletInitializer{
	//get root config class which is loaded by context loader listener 
	//get servlet config class in which viewResolver is configed
	//dispatcherservlet mapping
}
```
- Controllers

(HttpServletRequest, HttpSession, Principal, Model, @RequestParam("id") long id, @PathVariable("id") long , @RequestHeader("user-agent") String agent)

"http://localhost:8080/mvc-1/rewardsadmin/" application server, webapp, servlet mapping, request mapping
```java
@Controller
@RequestMapping("/listAccounts")//ignore .html
public class AccountController{
	//"/listAccounts.html?id=123"
	public String list(Model model, @RequestParam("id") long id){}
	//"/listAccounts/{id}"
	public String list(Model model, @PathVariable("id") long id){}
}
```
- Views

InternalResourceViewResolver is created for ViewResolver bean registered in `MvcConfig.class`

by default view files are in "/WEB-INF/views/"

## how do you implement a web mvc module
1. deploy a dispatcher servlet, extends AbstractAnnotationConfigDispatcherServletInitializer, in which RootConfig, MvcConfig and DispatcherServlet mapping is initialized.
2. implement a controller
3. register the controller with the dispatcher servlet
4. implement the views
5. register a view resolver
6. deploy and test

```java
//dispather servlet
public class MyWebInitializer extends AbstractAnnotationConfigDispatcherServletInitializer{
	//get root config class which is loaded by context loader listener 
	getRootConfigClasses(){
		return new Class<>[]{RootConfig.class};
	}
	//get servlet config class in which viewResolver is configed
	getServletConfigClasses(){
		return new Class<>[]{MvcConfig.class};
	}
	//dispatcherservlet mapping
	getServletMapping(){
		return new String[]{"/rewardsadmin/*"};
	}
}

@configuration
@ComponentScan("package.mvc.bean.name")
public class MvcConfig{//additional beans //override view resolver
}

<html>
<body>
Amount = ${reward.amount}<br/>
Date = ${reward.date}<br/>
Account = ${reward.account}<br/>
Description = ${reward.description}<br/>
</body>
</html>

@Configuration
@EnableWebMvc
public class RootConfig{
}
```
# REST Web Services
## what is REST

- an architectureal style 

describing best practices to expose web services over HTTP
# Microservices

#JDBC
#JPA
#Data
#Security
#AOP
#IoC
```java
```